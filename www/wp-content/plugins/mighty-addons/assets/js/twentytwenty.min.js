(function(t){t.fn.twentytwenty=function(e){e=t.extend({default_offset_pct:.5,orientation:"horizontal",before_label:"Before",after_label:"After",no_overlay:!1,move_slider_on_hover:!1,move_with_handle_only:!0,click_to_move:!1},e);return this.each(function(){var n=e.default_offset_pct,i=t(this),a=e.orientation;if(i.wrap("<div class='twentytwenty-wrapper twentytwenty-"+a+"'></div>"),!e.no_overlay){i.append("<div class='twentytwenty-overlay'></div>");var o=i.find(".twentytwenty-overlay");o.append("<div class='twentytwenty-before-label' data-content='"+e.before_label+"'></div>"),o.append("<div class='twentytwenty-after-label' data-content='"+e.after_label+"'></div>")}var s=i.find("img:first"),r=i.find("img:last");i.append("<div class='twentytwenty-handle-wrapper'><div class='twentytwenty-handle'></div></div>");var c=i.find(".twentytwenty-handle");c.append("<i class='fas fa-chevron-left'></i>"),c.append("<i class='fas fa-chevron-right'></i>"),i.addClass("twentytwenty-container"),s.addClass("twentytwenty-before"),r.addClass("twentytwenty-after");var d=function(t){var e=s.width(),n=s.height();return{w:e+"px",h:n+"px",cw:t*e+"px",ch:t*n+"px"}},l=function(t){"vertical"===a?(s.css("clip","rect(0,"+t.w+","+t.ch+",0)"),r.css("clip","rect("+t.ch+","+t.w+","+t.h+",0)")):(s.css("clip","rect(0,"+t.cw+","+t.h+",0)"),r.css("clip","rect(0,"+t.w+","+t.h+","+t.cw+")")),i.css("height",t.h)},f=function(t){var e=d(t);c.css("vertical"===a?"top":"left","vertical"===a?e.ch:e.cw),l(e)},v=function(t,e,n){return Math.max(e,Math.min(n,t))},w=function(t,e){var n="vertical"===a?(e-p)/u:(t-h)/y;return v(n,0,1)};t(window).on("resize.twentytwenty",function(t){f(n)});var h=0,p=0,y=0,u=0,_=function(t){(t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY)&&"vertical"!==a?t.preventDefault():(t.distX<t.distY&&t.distX<-t.distY||t.distX>t.distY&&t.distX>-t.distY)&&"vertical"===a&&t.preventDefault(),i.addClass("active"),h=i.offset().left,p=i.offset().top,y=s.width(),u=s.height()},m=function(t){i.hasClass("active")&&(n=w(t.pageX,t.pageY),f(n))},g=function(){i.removeClass("active")},b=e.move_with_handle_only?c:i;b.on("movestart",_),b.on("move",m),b.on("moveend",g),e.move_slider_on_hover&&(i.on("mouseenter",_),i.on("mousemove",m),i.on("mouseleave",g)),c.on("touchmove",function(t){t.preventDefault()}),i.find("img").on("mousedown",function(t){t.preventDefault()}),e.click_to_move&&i.on("click",function(t){h=i.offset().left,p=i.offset().top,y=s.width(),u=s.height(),n=w(t.pageX,t.pageY),f(n)}),t(window).trigger("resize.twentytwenty")})}})(jQuery);